env.BASE_DIR = "$WORK/chapter2"

process {
   executor = 'nqsii'
   queue = 'clmedium'
   cpus = 1
   memory = 4.GB
   time = { 1.h * task.attempt }
   errorStrategy = { task.exitStatus == Integer.MAX_VALUE ? 'retry' : 'finish' }
   maxRetries = 1
   maxErrors = '-1'

	 withLabel: "L_loc.*" {
	 executor='local'
	 }

   withLabel: "L_20g2h_.*" {
      queue = 'clexpress'
      memory = 20.GB
      time = { 2.h * task.attempt }
   }

   withLabel: "L_20g15h_.*"  {
      memory = 20.GB
      time = { 15.h * task.attempt }
   }

	 withLabel: "L_28g5h_.*" {
      memory = 28.GB
      time = { 5.h * task.attempt }
   }

	 withLabel: "L_32g15h_.*" {
			memory =  32.GB
			time = { 15.h * task.attempt }
	 }

   withLabel: "L_32g30h_.*" {
      queue = 'cllong'
      memory =  32.GB
      time = { 30.h * task.attempt }
   }

   withLabel: "L_32g1h_.*" {
      queue = 'clexpress'
      memory = 32.GB
      time = { 1.h * task.attempt }
   }

	 withLabel: "L_32g1h4t_.*" {
			cpus = 4
			queue = 'clexpress'
			memory =  32.GB
			time = { 1.h * task.attempt }
		}

		withLabel: "L_32g4h_.*" {
			memory =  32.GB
			time = { 4.h * task.attempt }
		}

		withLabel: "L_32g4h4t_.*" {
 			cpus = 4
 			memory =  32.GB
 			time = { 4.h * task.attempt }
 		}

   withLabel: "L_36g47h_.*" {
      queue = 'cllong'
      memory = 36.GB
      time = { 47.h * task.attempt }
   }

    withLabel: "L_75g24h8t_.*" {
       cpus = 8
       memory = 75.GB
       time = { 24.h * task.attempt }
    }

		withLabel: "L_78g5h_.*" {
 			memory = 78.GB
 			time = { 5.h * task.attempt }
 	 }

 	 withLabel: "L_78g10h_.*" {
 			memory = 78.GB
 			time = { 10.h * task.attempt }
 	 }


   withLabel: "L_88g30h_.*" {
      queue = 'cllong'
      memory =  88.GB
      time = { 30.h * task.attempt }
   }

	 withLabel: "L_O88g90h_.*" {
      queue = 'clfo2'
      memory =  88.GB
      time = { 90.h * task.attempt }
   }

   withLabel: "L_105g30h_.*" {
      queue = 'cllong'
      memory =  105.GB
      time = { 30.h * task.attempt }
   }

	 withLabel: "L_190g30h_.*" {
      queue = 'cllong'
      memory =  190.GB
      time = { 30.h * task.attempt }
   }

   }

trace { enabled = true }
report { enabled = true }